package util

import (
	"reflect"
	"testing"
)

var validInitial = IsaacRandom{
	count: 256,
	a:     402883132,
	b:     3939328812,
	c:     1,
	mem:   [256]uint32{4169808082, 2225155224, 3502090699, 250047283, 352365478, 1895508711, 3659733690, 1562289075, 455478442, 4293659161, 1469188942, 3986607, 1184318870, 3563758981, 3532092642, 1715272864, 4153415387, 2797586645, 3363279298, 1239744593, 3566078238, 1738695039, 1031053999, 338971034, 4013461090, 3849849836, 504553604, 2058631492, 2820986611, 2596859648, 1045920052, 1625927645, 2089461039, 3841762809, 446046454, 3657027858, 2174643823, 2151038314, 3441737642, 42478417, 3316445314, 1049117299, 3734913321, 1615877829, 1013270950, 3274113903, 2289422612, 1104178361, 4075713283, 2035754039, 3877160983, 4245024257, 1705866259, 3604614419, 1473666962, 3943207793, 426967898, 1847457851, 3185957768, 3506509322, 1975334096, 1139181223, 1458396704, 2217653544, 3983515958, 4116177502, 262264437, 1194738164, 3926080663, 2787260604, 1797548960, 1005036552, 1729539717, 3819209779, 2888371762, 1832778679, 2505645601, 1051595634, 3657311028, 1814733238, 3212887094, 1340803212, 1898292756, 149925656, 497617351, 3115687135, 4147706882, 1612778517, 2959641178, 2884488628, 2232910364, 1966164228, 1144467346, 162214518, 2459410660, 208514260, 2069682971, 2587250592, 30399155, 3533955431, 2568820960, 1600119114, 2925376186, 2207645040, 4003288392, 1942227667, 1547601011, 2141802761, 1846474781, 3950557885, 3637455025, 4293242575, 1865315067, 4044605935, 2510859672, 1919918399, 4144686935, 1596972044, 3772054804, 3639508209, 3674646466, 2002491532, 3911227958, 2227024048, 3894259072, 1952563411, 402589917, 2971197141, 2617570576, 585326576, 2444743878, 3173357959, 900737137, 748210795, 4067395511, 1124166356, 839501305, 2073926850, 1578988896, 1224051162, 1858059159, 42761668, 2677159096, 589538384, 408242882, 1108428928, 25203207, 3268300274, 4091720619, 3381584177, 3029635940, 334211848, 3030714638, 4078086708, 136756971, 63672702, 2296760250, 1083462377, 1674376088, 742928788, 1931778025, 4201670168, 3692145031, 1121699022, 32797596, 115968859, 2347683327, 3958350982, 2307838050, 750812101, 290759081, 1928255850, 700201425, 2872475223, 1346464521, 540360868, 138688216, 3495578067, 737931469, 1916349631, 1526528563, 938355676, 56435575, 3798283753, 1296119407, 1165684122, 2987102272, 3615896666, 1370599897, 1411595217, 1955793081, 1217890452, 142452386, 3865722415, 4165957186, 1989831894, 1700877544, 2322591567, 3925567833, 2372018533, 106294687, 3517725081, 278996829, 883030797, 2983916841, 918399476, 296088178, 3054016910, 3518168165, 910324486, 3117340242, 706741190, 1201767107, 4223761872, 2149812624, 4062928728, 991216645, 2402176785, 3166217996, 674089053, 3323023048, 33232050, 1068099732, 2380997428, 3730715857, 2236198951, 3830252032, 4063756285, 218230857, 508538983, 4010524635, 3418212616, 644185333, 2761484042, 2886924844, 3458597217, 1981846064, 685201496, 396825988, 3582210299, 3067593864, 2812540314, 2086896873, 932294467, 115021190, 1330304716, 3022554347, 4197697595, 4104709908, 3333597149, 2417909845, 4227776345, 1477855374, 2915640325, 1672940908, 1871748783},
	rsl:   [256]uint32{1050531596, 1624636011, 1660755025, 596863388, 4182018089, 4233325601, 1045890744, 74098549, 1703162538, 3890046295, 184888649, 361814705, 2026703489, 880042428, 3320364653, 1784666987, 2816115242, 4091555819, 3487839423, 3152985278, 2877495181, 4106257168, 4268089609, 3011368231, 1183615532, 2775499346, 2908033274, 25443276, 1164890877, 1302109117, 2767532320, 193715241, 4037570535, 1075189045, 261700812, 1346471333, 2908879485, 588082822, 1074666815, 1583902746, 2390483570, 1281344198, 2125832331, 2595330600, 4210242881, 3392267477, 358987392, 2691831153, 2474638644, 2469545085, 1971131443, 991225900, 1357458777, 1846357947, 2786750582, 686305652, 637932985, 1371063458, 412648293, 3973616568, 460218594, 3733334222, 2927354877, 2316411048, 2942156148, 2963168007, 3669715379, 2815134322, 2626271922, 3095363211, 3085525868, 1824464016, 1230123732, 2257387415, 2411537277, 604056998, 963515213, 1911080985, 1374051914, 161055964, 3568526973, 3602238284, 3064972245, 1985036240, 1876343147, 3164509412, 4094821905, 830490892, 3082750786, 15423836, 3129026875, 3767649178, 1805075690, 4130934396, 2306753182, 1618594126, 1162688445, 3261426002, 435214836, 3340032890, 1593806716, 3828713097, 2684836270, 3413664683, 3134109390, 314102480, 2289043275, 1829686749, 3057081404, 1713489310, 1226744540, 1916107607, 2194085305, 3656956926, 753225098, 1492022013, 3211710216, 1832479205, 4120945026, 862807197, 3592023442, 3901540900, 827525477, 546707600, 4186798427, 2942056578, 1518373107, 1079054362, 2296632731, 1811233361, 2811841462, 3935250429, 1972887389, 326256207, 4183277595, 2650596958, 544625803, 1786794827, 470526916, 783341830, 3317218588, 413526091, 197708503, 4054400917, 2054898621, 3059286589, 2685739004, 2695068320, 3412416902, 2975765153, 3351662578, 309665926, 2527351029, 1759347755, 2839090610, 527735297, 2097363949, 1595721423, 3571994397, 956382192, 295766917, 4174099960, 3377974103, 3880092330, 4196853487, 571949532, 372815971, 1791117900, 4142180440, 2339062463, 3428489529, 4119168617, 1542282577, 18064798, 3462106211, 1598416913, 2640042847, 2958006184, 3164022959, 600554972, 1781585579, 1114701294, 3445628161, 2534164645, 1563190001, 762990448, 1784082349, 3966091223, 2911880359, 107247411, 2409597926, 3375354059, 1645825372, 3952572111, 224648805, 335762743, 1177599057, 1215116526, 3068537020, 2244053814, 1805345422, 1111326901, 1032899394, 186913536, 4021939644, 1437403809, 3234180424, 3774811993, 2787797581, 3191969671, 2166062967, 448459491, 3661516421, 1422470267, 3108547340, 1101868985, 94605652, 3513140827, 1435905198, 3660128464, 2471154250, 4041223838, 2292355400, 2720316744, 1171029313, 3289615143, 3988652933, 3344999441, 2309412034, 1368738021, 534669155, 3390029943, 2750233797, 3227239284, 2214945131, 1156006193, 4164495008, 3695213895, 1688460760, 3578606800, 2018932417, 672560838, 1628273054, 2820340204, 1738592058, 3892681447, 3890838410, 540343305, 3000307970, 4160833035, 2164386566, 2746650711, 3811265921, 3541044750, 2741278600, 3939328812},
}

func TestNewIsaacRandom(t *testing.T) {
	type args struct {
		seed []uint32
	}
	tests := []struct {
		name string
		args args
		want *IsaacRandom
	}{
		{
			name: "valid",
			args: args{
				seed: []uint32{20022238, 39556754, 965055481, 2811625286},
			},
			want: &validInitial,
		},
	}
	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			if got := NewIsaacRandom(tt.args.seed); !reflect.DeepEqual(got, tt.want) {
				t.Errorf("NewIsaacRandom() = %v, want %v", got, tt.want)
			}
		})
	}
}

func TestIsaacRandom_NextInt(t *testing.T) {
	type fields struct {
		count int
		a     uint32
		b     uint32
		c     uint32
		mem   [Size]uint32
		rsl   [Size]uint32
	}
	tests := []struct {
		name   string
		fields fields
		want   uint32
	}{
		// TODO: Add test cases.
		{
			name:   "",
			fields: fields(validInitial),
			want:   0,
		},
	}
	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			is := &IsaacRandom{
				count: tt.fields.count,
				a:     tt.fields.a,
				b:     tt.fields.b,
				c:     tt.fields.c,
				mem:   tt.fields.mem,
				rsl:   tt.fields.rsl,
			}
			if got := is.NextInt(); got != tt.want {
				t.Errorf("NextInt() = %v, want %v", got, tt.want)
			}
		})
	}
}
